<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ä¹å­¦æˆé•¿å¡ - å½©è™¹æ˜¯æ€ä¹ˆå½¢æˆçš„</title>
<style>
    body {
        margin:0;
        font-family:"Microsoft YaHei",sans-serif;
        background:#f0f9ff;
    }
    header {
        background:#66ccff;
        padding:10px;
        position:sticky;
        top:0;
        z-index:10;
        display:flex;
        align-items:center;
        justify-content:center;
        font-weight:bold;
        font-size:20px;
        color:#fff;
    }
    section {
        padding:10px;
        max-width:800px;
        margin:0 auto;
    }
    .card {
        background:white;
        border-radius:12px;
        box-shadow:0 2px 6px rgba(0,0,0,0.1);
        padding:15px;
        margin-bottom:15px;
    }
    h2 {
        margin-top:0;
        color:#444;
    }
    .btn {
        background:#66ccff;
        color:white;
        border:none;
        border-radius:6px;
        padding:6px 10px;
        cursor:pointer;
        font-size:14px;
    }
    .btn:disabled {background:gray;}
    .progress {
        height:20px;
        background:#eee;
        border-radius:10px;
        overflow:hidden;
    }
    .progress-bar {
        height:100%;
        background:#66ccff;
        text-align:center;
        color:white;
        line-height:20px;
        width:0;
    }
    .rainbow {
        width:100%;
        height:150px;
        background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);
        border-radius:0 0 75px 75px;
        margin-bottom:10px;
    }
</style>
</head>
<body>

<header>ä¹å­¦æˆé•¿å¡ï¼šå½©è™¹æ˜¯æ€ä¹ˆå½¢æˆçš„</header>

<section>
    <!-- çŸ¥è¯†é˜…è¯» -->
    <div class="card">
        <h2>çŸ¥è¯†é˜…è¯»</h2>
        <p id="p1">å½©è™¹æ˜¯å…‰ç»è¿‡é›¨æ»´æŠ˜å°„ã€åå°„å’Œå†æ¬¡æŠ˜å°„å½¢æˆçš„ç¾ä¸½å…‰è°±ã€‚</p>
        <button class="btn" onclick="readText('p1')">ğŸ”Šæœ—è¯»</button>
        <p id="p2"> å½©è™¹ä¸€èˆ¬å‡ºç°åœ¨é›¨åæˆ–ç€‘å¸ƒé™„è¿‘ï¼Œå¤©ç©ºæœ‰é˜³å…‰æ—¶æ›´å®¹æ˜“çœ‹åˆ°ã€‚</p>
        <button class="btn" onclick="readText('p2')">ğŸ”Šæœ—è¯»</button>
    </div>

    <!-- çŸ¥è¯†åŠ¨ç”» -->
    <div class="card">
        <h2>å½©è™¹åŠ¨ç”»</h2>
        <div class="rainbow"></div>
        <p>ä¸ƒç§é¢œè‰²ä¾æ¬¡ä¸ºï¼šçº¢ã€æ©™ã€é»„ã€ç»¿ã€è“ã€é›ã€ç´«ã€‚</p>
    </div>

    <!-- å°æ¸¸æˆ -->
    <div class="card">
        <h2>å°æ¸¸æˆï¼šæ’åˆ—å½©è™¹é¢œè‰²</h2>
        <p>æŠŠé¢œè‰²æŒ‰æ­£ç¡®é¡ºåºæ’å¥½ï¼ˆåªèƒ½åŠ åˆ†ä¸€æ¬¡ï¼‰</p>
        <div id="colorBlocks">
            <button class="btn" draggable="true" ondragstart="drag(event)" id="red" style="background:red">çº¢</button>
            <button class="btn" draggable="true" ondragstart="drag(event)" id="orange" style="background:orange">æ©™</button>
            <button class="btn" draggable="true" ondragstart="drag(event)" id="yellow" style="background:yellow;color:#333">é»„</button>
            <button class="btn" draggable="true" ondragstart="drag(event)" id="green" style="background:green">ç»¿</button>
            <button class="btn" draggable="true" ondragstart="drag(event)" id="blue" style="background:blue">è“</button>
            <button class="btn" draggable="true" ondragstart="drag(event)" id="indigo" style="background:indigo">é›</button>
            <button class="btn" draggable="true" ondragstart="drag(event)" id="violet" style="background:violet">ç´«</button>
        </div>
        <div id="dropZone" ondrop="drop(event)" ondragover="allowDrop(event)" style="margin-top:10px;padding:10px;border:2px dashed #aaa;min-height:60px;">
            æ‹–æ‹½é¢œè‰²åˆ°è¿™é‡ŒæŒ‰é¡ºåºæ’åˆ—
        </div>
        <p id="gameStatus"></p>
    </div>

    <!-- çŸ¥è¯†é—®ç­” -->
    <div class="card quiz">
        <h2>çŸ¥è¯†é—®ç­”</h2>
        <div>
            <p>1. å½©è™¹æ˜¯å…‰ç»è¿‡é›¨æ»´ä¸¤æ¬¡æŠ˜å°„å½¢æˆçš„ï¼Œå¯¹å—ï¼Ÿ</p>
            <label><input type="radio" name="q1" value="true">å¯¹</label>
            <label><input type="radio" name="q1" value="false">é”™</label>
        </div>
        <div>
            <p>2. å½©è™¹çš„ä¸ƒç§é¢œè‰²æ˜¯çº¢æ©™é»„ç»¿è“é›ç´«ï¼Œå¯¹å—ï¼Ÿ</p>
            <label><input type="radio" name="q2" value="true">å¯¹</label>
            <label><input type="radio" name="q2" value="false">é”™</label>
        </div>
        <button class="btn" onclick="checkQuiz()">æäº¤ç­”æ¡ˆ</button>
        <p id="quizResult"></p>
    </div>

    <!-- æˆé•¿å€¼ -->
    <div class="card">
        <h2>æˆ‘çš„æˆé•¿å€¼</h2>
        <div class="progress">
            <div id="progressBar" class="progress-bar">0 / 10</div>
        </div>
    </div>
</section>

<script>
    const CONFIG = { maxPoints: 10, gamePoints: 4, quizPoints: 3};
    let synth = window.speechSynthesis;
    let points = 0, quizCompleted = false, gameCompleted = false;
    let order = [];

    function readText(id){
        let text = document.getElementById(id).innerText;
        let utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'zh-CN';
        synth.speak(utter);
    }

    function addPoints(score){
        points += score;
        if(points > CONFIG.maxPoints) points = CONFIG.maxPoints;
        let bar = document.getElementById('progressBar');
        bar.style.width = (points / CONFIG.maxPoints * 100) + '%';
        bar.innerText = `${points} / ${CONFIG.maxPoints}`;
    }

    // æ‹–æ‹½å°æ¸¸æˆ
    function allowDrop(ev){ ev.preventDefault(); }
    function drag(ev){ ev.dataTransfer.setData("text", ev.target.id); }
    function drop(ev){
        ev.preventDefault();
        if(gameCompleted) return;
        let data = ev.dataTransfer.getData("text");
        let block = document.getElementById(data);
        ev.target.appendChild(block);
        order.push(data);
        if(order.length === 7){
            let correct = ["red","orange","yellow","green","blue","indigo","violet"];
            if(JSON.stringify(order) === JSON.stringify(correct)){
                document.getElementById('gameStatus').innerText = `âœ… æ­£ç¡®ï¼è·å¾—${CONFIG.gamePoints}åˆ†`;
                addPoints(CONFIG.gamePoints);
            } else {
                document.getElementById('gameStatus').innerText = "âŒ é¡ºåºä¸å¯¹ï¼Œè¯·åˆ·æ–°é‡è¯•";
            }
            gameCompleted = true;
        }
    }

    // ç­”é¢˜
    function checkQuiz(){
        if(quizCompleted) return;
        let score = 0;
        let q1 = document.querySelector('input[name="q1"]:checked');
        let q2 = document.querySelector('input[name="q2"]:checked');
        if(!q1 || !q2){ alert("è¯·ç­”å®Œæ‰€æœ‰é¢˜ç›®"); return; }
        if(q1.value === 'true') score += CONFIG.quizPoints;
        if(q2.value === 'true') score += CONFIG.quizPoints;
        addPoints(score);
        quizCompleted = true;
        document.getElementById('quizResult').innerText = `ç­”é¢˜å¾—åˆ† ${score} åˆ†`;
    }
</script>
</body>
</html>
