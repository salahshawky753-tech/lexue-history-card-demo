<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ä¹å­¦æˆé•¿å¡ - å†å²æ–‡åŒ–ç¯‡</title>
<style>
    body {
        margin:0;
        font-family:"Microsoft YaHei",sans-serif;
        background:#f7f7f7;
    }
    header {
        background:#ffcc66;
        padding:10px;
        position:sticky;
        top:0;
        z-index:10;
        display:flex;
        align-items:center;
        justify-content:center;
        font-weight:bold;
        font-size:20px;
        color:#333;
    }
    section {
        padding:10px;
        max-width:800px;
        margin:0 auto;
    }
    .card {
        background:white;
        border-radius:12px;
        box-shadow:0 2px 6px rgba(0,0,0,0.1);
        padding:15px;
        margin-bottom:15px;
    }
    h2 {
        margin-top:0;
        color:#444;
    }
    .btn {
        background:#ff9933;
        color:white;
        border:none;
        border-radius:6px;
        padding:8px 12px;
        cursor:pointer;
        font-size:16px;
    }
    .btn:disabled {
        background:gray;
    }
    .quiz label {
        display:block;
        margin:6px 0;
    }
    .progress {
        height:20px;
        background:#eee;
        border-radius:10px;
        overflow:hidden;
    }
    .progress-bar {
        height:100%;
        background:#ff9933;
        text-align:center;
        color:white;
        line-height:20px;
        width:0;
    }
</style>
</head>
<body>

<header>ä¹å­¦æˆé•¿å¡ï¼šå†å²æ–‡åŒ–ç¯‡</header>

<section>
    <!-- çŸ¥è¯†é˜…è¯» -->
    <div class="card">
        <h2>çŸ¥è¯†é˜…è¯»</h2>
        <p id="p1">æ³°å·è‡ªå¤ä¸ºæ°´é™†è¦å†²ï¼Œç´ æœ‰â€œæ±‰å”åéƒ¡â€ä¹‹ç§°ã€‚</p>
        <button class="btn" onclick="readText('p1')">ğŸ”Šæœ—è¯»</button>
        <p id="p2">å¤è¿æ²³ç©¿åŸè€Œè¿‡ï¼Œè§è¯äº†æ•°ç™¾å¹´çš„å•†è´¸ç¹è£ä¸æ–‡åŒ–äº¤æµã€‚</p>
        <button class="btn" onclick="readText('p2')">ğŸ”Šæœ—è¯»</button>
    </div>

    <!-- çŸ¥è¯†åŠ¨ç”» -->
    <div class="card">
        <h2>åŠ¨ç”»å±•ç¤º</h2>
        <svg width="100%" height="120">
            <circle id="boat" cx="20" cy="60" r="20" fill="#B58900" onclick="clickBoat()" />
            æŠ±æ­‰ï¼Œæµè§ˆå™¨ä¸æ”¯æŒSVG
        </svg>
        <p id="gameStatus">ä»»åŠ¡ï¼šç‚¹å‡»å°èˆ¹ 3 æ¬¡ï¼ˆåªèƒ½åŠ åˆ†ä¸€æ¬¡ï¼‰</p>
        <button class="btn" onclick="resetGame()">é‡ç½®å°æ¸¸æˆ</button>
    </div>

    <!-- çŸ¥è¯†é—®ç­” -->
    <div class="card quiz">
        <h2>çŸ¥è¯†é—®ç­”</h2>
        <div>
            <p>1. æ³°å·æœ‰â€œæ±‰å”åéƒ¡â€ä¹‹ç§°ï¼Œå¯¹å—ï¼Ÿ</p>
            <label><input type="radio" name="q1" value="true">å¯¹</label>
            <label><input type="radio" name="q1" value="false">é”™</label>
        </div>
        <div>
            <p>2. å¤è¿æ²³æ˜¯æ³°å·å†å²å’Œæ–‡åŒ–çš„é‡è¦è§è¯ï¼Œå¯¹å—ï¼Ÿ</p>
            <label><input type="radio" name="q2" value="true">å¯¹</label>
            <label><input type="radio" name="q2" value="false">é”™</label>
        </div>
        <button class="btn" onclick="checkQuiz()">æäº¤ç­”æ¡ˆ</button>
        <p id="quizResult"></p>
    </div>

    <!-- æˆé•¿å€¼ -->
    <div class="card">
        <h2>æˆ‘çš„æˆé•¿å€¼</h2>
        <div class="progress">
            <div id="progressBar" class="progress-bar">0 / 10</div>
        </div>
    </div>
</section>

<script>
    // é…ç½®
    const CONFIG = { maxPoints: 10, gamePoints: 4, quizPoints: 3 };
    let synth = window.speechSynthesis;
    let points = 0;
    let boatClicks = 0;
    let gameCompleted = false;
    let quizCompleted = false;

    // SVGå°èˆ¹åŠ¨ç”»
    let pos = 20;
    setInterval(() => {
        pos += 2;
        document.getElementById('boat').setAttribute('cx', pos % window.innerWidth);
    }, 50);

    // ç‚¹å‡»å°èˆ¹
    function clickBoat(){
        if(gameCompleted) return;
        boatClicks++;
        document.getElementById('gameStatus').innerText = `å·²ç‚¹å‡»ï¼š${boatClicks} / 3`;
        if(boatClicks >= 3){
            gameCompleted = true;
            addPoints(CONFIG.gamePoints);
            document.getElementById('gameStatus').innerText += ` âœ… å®Œæˆæ¸¸æˆï¼Œ+${CONFIG.gamePoints}åˆ†`;
        }
    }

    // é‡ç½®å°æ¸¸æˆ
    function resetGame(){
        boatClicks = 0;
        gameCompleted = false;
        document.getElementById('gameStatus').innerText = 'ä»»åŠ¡ï¼šç‚¹å‡»å°èˆ¹ 3 æ¬¡ï¼ˆåªèƒ½åŠ åˆ†ä¸€æ¬¡ï¼‰';
    }

    // ç­”é¢˜é€»è¾‘
    function checkQuiz(){
        if(quizCompleted) return;
        let score = 0;
        let q1 = document.querySelector('input[name="q1"]:checked');
        let q2 = document.querySelector('input[name="q2"]:checked');
        if(!q1 || !q2){ alert("è¯·ç­”å®Œæ‰€æœ‰é¢˜ç›®"); return; }
        if(q1.value === 'true') score += CONFIG.quizPoints;
        if(q2.value === 'true') score += CONFIG.quizPoints;
        addPoints(score);
        quizCompleted = true;
        document.getElementById('quizResult').innerText = `ç­”é¢˜å¾—åˆ† ${score} åˆ†`;
    }

    // å¢åŠ ç§¯åˆ†å¹¶æ›´æ–°è¿›åº¦
    function addPoints(score){
        points += score;
        if(points > CONFIG.maxPoints) points = CONFIG.maxPoints;
        let bar = document.getElementById('progressBar');
        bar.style.width = (points / CONFIG.maxPoints * 100) + '%';
        bar.innerText = `${points} / ${CONFIG.maxPoints}`;
    }

    // è¯­éŸ³æœ—è¯»
    function readText(id){
        let text = document.getElementById(id).innerText;
        let utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'zh-CN';
        synth.speak(utter);
    }
</script>
</body>
</html>
